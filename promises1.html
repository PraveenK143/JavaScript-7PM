<!--
    1) JSON Server

    2) AJAX Call   (jQuery)

    3) Promises

    4) async & await

    Step 1.
        create the json file

        sample.json

    Step 2.
        deploy sample.json file in JSON Server

        > json-server --watch sample.json

        URL :  http://localhost:3000/products

    Step 3.
        test the above rest api call by using "Postman"

    Step 4.
        create webpage
-->

<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <script>
            function makeAsynchrnousCall(){
                return new Promise((resolve,reject)=>{
                    $.ajax({
                        method : "GET",
                        url : "http://localhost:3000/products",
                        success : (posRes)=>{
                            resolve(posRes);
                        },
                        error : (errRes)=>{
                            reject(errRes);
                        }
                    });
                });
            };

            async function myFun(){
                let res = await makeAsynchrnousCall();
                document.write(`<table border="1"
                                       cellpadding="10px"
                                       cellspacing="10px"
                                       align="center">
                                       <thead>
                                            <tr>
                                                <th>id</th>
                                                <th>brand</th>  
                                                <th>type</th>
                                                <th>price</th>
                                                <th>image</th>        
                                            </tr>
                                        </thead>
                                        <tbody>`);
                res.forEach((element,index)=>{
                    document.write(`<tr>
                            <td>${element.id}</td>
                            <td>${element.brand}</td>
                            <td>${element.type}</td>
                            <td>${element.price}</td>
                            <td><img width="80px" src="${element.image}"></td>
                        </tr>`);
                });

                document.write(`</tbody></table>`);
            };
            myFun();

        </script>
    </body>
</html>














